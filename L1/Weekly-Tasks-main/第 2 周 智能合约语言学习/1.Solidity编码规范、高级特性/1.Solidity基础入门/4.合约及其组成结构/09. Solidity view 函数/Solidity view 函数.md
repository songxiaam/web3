
在 Solidity 中，`view` 函数是一种特殊的函数类型，其主要作用是读取合约的状态而不进行任何修改。如果在 `view` 函数体内尝试修改合约状态，Solidity 编译器将直接报错，因为这违反了 `view` 声明的约束。

使用 `view` 函数有助于增强代码的安全性，确保函数的行为不会与预期产生副作用，只进行数据的读取操作。这种函数特别适合用于那些需要返回合约数据但不需要更改它的场景，比如获取当前的状态变量值或计算返回某些派生值而不影响合约状态的函数。

如下所示：

`view` 函数

```
uint count;
function GetCount() public view returns(uint) {
    return count;
}
```

## 怎样才算修改合约状态

Solidity 有 8 种行为被认为是修改了合约状态：

1. 修改状态变量：直接改变合约中的状态变量。
2. 触发事件：发出事件来记录合约中的活动。
3. 创建其他合约：通过合约代码生成新的合约实例。
4. 使用 `selfdestruct`：销毁当前合约并将其余额发送到指定地址。
5. 通过函数调用发送以太币：例如使用 `transfer` 或 `send` 方法进行以太币转账。
6. 调用未标记为 `view` 或 `pure` 的任何函数：调用可能改变状态的函数。
7. 使用低级调用：如 `transfer`、`send`、`call`、`delegatecall` 等。
8. 使用包含某些操作码的内联汇编：使用可能直接影响状态的汇编代码。
